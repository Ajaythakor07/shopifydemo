<div class="site-section">
    <div class="container">
      <div class="row">
        <div class="title-section text-center mb-5 col-12">
          <h2 class="text-uppercase">{{section.settings.heading_text}}</h2>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 block-3">
          <div class="nonloop-block-3 owl-carousel">
            {% for block in section.blocks %}
            {%- assign product = all_products[block.settings.product] -%}
            <div class="item">
              <div class="item-entry">
                <a href="{{product.url}}" class="product-item md-height bg-gray d-block">
                  <img src="{{ product.featured_image.src | product_img_url: 'medium' }}" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="{{product.url}}">{{product.title}}</a></h2>
                <strong class="item-price"><del>{{product.sale_price | money }}</del>{{product.price | money}}</strong>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
</div>

{% schema %}
  {
    "name": "rated product",
    "settings": [
      {
        "type": "text",
        "id": "heading_text",
        "label": "Heading"
      }
    ],
    "blocks":[

    { "type": "product",
      "name":"rated product",
        "settings": [
      {
        "type": "product",
        "id": "product",
        "label": "Product"
      }
    ]
  }
    ],
    "presets": [
      {
        "name": "rated product",
        "category": "Product"
      }
    ]
  }
{% endschema %}
<script>
jQuery(document).ready(function($) {

"use strict";

var slider = function() {
  $('.nonloop-block-3').owlCarousel({
    center: false,
    items: 1,
    loop: false,
    stagePadding: 15,
    margin: 20,
    nav: true,
    navText: ['<span class="icon-arrow_back">', '<span class="icon-arrow_forward">'],
    responsive:{
      600:{
        margin: 20,
        items: 2
      },
      1000:{
        margin: 20,
        items: 3
      },
      1200:{
        margin: 20,
        items: 3
      }
    }
  });
};

slider();
});
</script>